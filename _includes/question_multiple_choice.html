<div class="question-container" id="question-{{ include.id }}">
    <form id="form-{{ include.id }}" onsubmit="return false;">
        <!-- ACCESSIBILITY: Fieldset groups the radio buttons with the question -->
        <fieldset style="border: 0; margin: 0; padding: 0;">
            
            <!-- ACCESSIBILITY: Legend reads the question title/text when focusing on options -->
            <legend>
                <h3 style="display:inline;">Question: {{ include.title }}</h3>
                <div class="question-content">
                    {{ include.question_text | markdownify }}
                </div>
            </legend>

            <div class="mcq-options">
                {% assign options = include.options | split: "||" %}
                {% for option in options %}
                    {% assign parts = option | split: "::" %}
                    {% assign val = parts[0] %}
                    {% assign text = parts[1] %}
                    
                    <label style="display:block; margin-bottom: 0.5em;">
                        <input 
                            type="radio" 
                            name="choice-{{ include.id }}" 
                            value="{{ val }}" 
                            onclick="checkMultipleChoice('{{ include.id }}', '{{ include.correct_answer }}')"
                        > 
                        {{ text }}
                    </label>
                {% endfor %}
            </div>
        </fieldset>
    </form>

    <!-- Live region for feedback -->
    <div id="feedback-{{ include.id }}" aria-live="polite" class="feedback"></div>
    
    {% if include.solution_text %}
        <div style="margin-top:15px;">
            <button 
                class="btn btn-primary solution-toggle-button" 
                id="btn-sol-{{ include.id }}"
                aria-expanded="false" 
                aria-controls="solution-{{ include.id }}" 
                onclick="toggleSolution('solution-{{ include.id }}', this)">
                Show Solution
            </button>
        </div>

        <div id="solution-{{ include.id }}" class="solution-content" style="display:none;">
            <h4>Solution:</h4>
            {{ include.solution_text | markdownify }}
        </div>
    {% endif %}
</div>
